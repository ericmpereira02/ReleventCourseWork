This demo does not work on mac OS X. The demo uses unnamed semaphores, which are no longer supported by OS X. It seems to run fine on linux. 

